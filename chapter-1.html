<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>控制器</title>
</head>
<body ng-app="app">
    <input type="text" ng-model="name">
    <h1>hello {{name}}</h1>

    <div ng-controller="ctrl">
        <h1>my controller:{{clock.now}}</h1>
    </div>

    <script type="text/javascript" src="angular.js"></script>
    <script type="text/javascript">
        var app = angular.module("app",[]);

        app.controller("ctrl",function($scope){
            $scope.clock = {
                now : new Date(),
            };
            var updateClock = function(){
                $scope.clock.now = new Date();
            };
            setInterval(function(){
                $scope.$apply(updateClock);     // $apply ????
            },1000)
            //setInterval(updateClock,1000);   // why not write like this
        })

        // app.controller("ctrl",function($scope,$timeout){
        //     var updateClock = function(){
        //         $scope.clock = new Date()
        //         $timeout(function() {
        //             updateClock();
        //         }, 1000);    
        //     }
        //     updateClock();
        // })
    </script>
</body>
</html>